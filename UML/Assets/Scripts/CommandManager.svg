<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="226px" preserveAspectRatio="none" style="width:513px;height:226px;" version="1.1" viewBox="0 0 513 226" width="513px" zoomAndPan="magnify"><defs><filter height="300%" id="flcgfnk4wg7nw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[c1f8e17d83d5d6a6ca17c065171989b6]
class CommandManager--><rect fill="#FEFECE" filter="url(#flcgfnk4wg7nw)" height="99.2188" id="CommandManager" style="stroke: #A80036; stroke-width: 1.5;" width="276" x="13" y="116"/><ellipse cx="88.25" cy="132" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M91.2188,137.6406 Q90.6406,137.9375 90,138.0781 Q89.3594,138.2344 88.6563,138.2344 Q86.1563,138.2344 84.8281,136.5938 Q83.5156,134.9375 83.5156,131.8125 Q83.5156,128.6875 84.8281,127.0313 Q86.1563,125.375 88.6563,125.375 Q89.3594,125.375 90,125.5313 Q90.6563,125.6875 91.2188,125.9844 L91.2188,128.7031 Q90.5938,128.125 90,127.8594 Q89.4063,127.5781 88.7813,127.5781 Q87.4375,127.5781 86.75,128.6563 Q86.0625,129.7188 86.0625,131.8125 Q86.0625,133.9063 86.75,134.9844 Q87.4375,136.0469 88.7813,136.0469 Q89.4063,136.0469 90,135.7813 Q90.5938,135.5 91.2188,134.9219 L91.2188,137.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="117" x="108.75" y="136.1543">CommandManager</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="14" x2="288" y1="148" y2="148"/><ellipse cx="24" cy="159" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="207" x="33" y="162.2104">changesBeforeRedoDiscard : int = 1</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="14" x2="288" y1="168.8047" y2="168.8047"/><ellipse cx="24" cy="179.8047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="250" x="33" y="183.0151">PushCommand(command:ICommand) : void</text><ellipse cx="24" cy="192.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="33" y="195.8198">Undo() : void</text><ellipse cx="24" cy="205.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="33" y="208.6245">Redo() : void</text><!--MD5=[faa1de4d7b17b110bcca917d9add068e]
class Singleton`1--><rect fill="#FEFECE" filter="url(#flcgfnk4wg7nw)" height="48" id="Singleton`1" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="93" y="8"/><ellipse cx="108" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M110.9688,29.6406 Q110.3906,29.9375 109.75,30.0781 Q109.1094,30.2344 108.4063,30.2344 Q105.9063,30.2344 104.5781,28.5938 Q103.2656,26.9375 103.2656,23.8125 Q103.2656,20.6875 104.5781,19.0313 Q105.9063,17.375 108.4063,17.375 Q109.1094,17.375 109.75,17.5313 Q110.4063,17.6875 110.9688,17.9844 L110.9688,20.7031 Q110.3438,20.125 109.75,19.8594 Q109.1563,19.5781 108.5313,19.5781 Q107.1875,19.5781 106.5,20.6563 Q105.8125,21.7188 105.8125,23.8125 Q105.8125,25.9063 106.5,26.9844 Q107.1875,28.0469 108.5313,28.0469 Q109.1563,28.0469 109.75,27.7813 Q110.3438,27.5 110.9688,26.9219 L110.9688,29.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="122" y="28.1543">Singleton`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="9" x="203" y="5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="7" x="204" y="17.1387">T</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="94" x2="208" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="94" x2="208" y1="48" y2="48"/><!--MD5=[500abf91d043834fcdd772523ff9273e]
class Stack`1--><rect fill="#FEFECE" filter="url(#flcgfnk4wg7nw)" height="48" id="Stack`1" style="stroke: #A80036; stroke-width: 1.5;" width="92" x="324" y="141.5"/><ellipse cx="339" cy="157.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M341.9688,163.1406 Q341.3906,163.4375 340.75,163.5781 Q340.1094,163.7344 339.4063,163.7344 Q336.9063,163.7344 335.5781,162.0938 Q334.2656,160.4375 334.2656,157.3125 Q334.2656,154.1875 335.5781,152.5313 Q336.9063,150.875 339.4063,150.875 Q340.1094,150.875 340.75,151.0313 Q341.4063,151.1875 341.9688,151.4844 L341.9688,154.2031 Q341.3438,153.625 340.75,153.3594 Q340.1563,153.0781 339.5313,153.0781 Q338.1875,153.0781 337.5,154.1563 Q336.8125,155.2188 336.8125,157.3125 Q336.8125,159.4063 337.5,160.4844 Q338.1875,161.5469 339.5313,161.5469 Q340.1563,161.5469 340.75,161.2813 Q341.3438,161 341.9688,160.4219 L341.9688,163.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="49" x="353" y="161.6543">Stack`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="9" x="410" y="138.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="7" x="411" y="150.6387">T</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="325" x2="415" y1="173.5" y2="173.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="325" x2="415" y1="181.5" y2="181.5"/><!--MD5=[82a8c0dfdb4509a6ef993d0c7928dc51]
reverse link Singleton`1 to CommandManager--><path d="M151,76.51 C151,89.14 151,103.01 151,115.93 " fill="none" id="Singleton`1&lt;-CommandManager" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="144,76.21,151,56.21,158,76.21,144,76.21" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="-11.6719" y="76.0224">&lt;CommandManager&gt;</text><!--MD5=[41d531f682a599e55aa69a3a020f9f98]
link CommandManager to Stack`1--><path d="M300.8868,197.5341 C300.8868,197.5341 309.28,195.3 312.96,194.1 " fill="none" id="CommandManager-Stack`1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="325.47,189.55,315.6448,188.8674,320.7712,191.2592,318.3795,196.3855,325.47,189.55" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320.7712" x2="313.255" y1="191.2592" y2="193.995"/><polygon fill="#FFFFFF" points="289.16,200.08,295.872,202.716,300.8868,197.5341,294.1748,194.8981,289.16,200.08" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="331.3561" y="209.7186">history&lt;ICommand&gt;</text><!--MD5=[41d531f682a599e55aa69a3a020f9f98]
link CommandManager to Stack`1--><path d="M300.8868,133.4659 C300.8868,133.4659 309.28,135.7 312.96,136.9 " fill="none" id="CommandManager-Stack`1-1" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="325.47,141.45,318.3795,134.6145,320.7712,139.7408,315.6448,142.1326,325.47,141.45" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320.7712" x2="313.255" y1="139.7408" y2="137.005"/><polygon fill="#FFFFFF" points="289.16,130.92,294.1748,136.1019,300.8868,133.4659,295.872,128.284,289.16,130.92" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="335.3279" y="130.4492">redoHistory&lt;ICommand&gt;</text><!--MD5=[66b3f342abdde025983f5a1d50ad7569]
@startuml
class CommandManager {
    + changesBeforeRedoDiscard : int = 1
    + PushCommand(command:ICommand) : void
    + Undo() : void
    + Redo() : void
}
class "Singleton`1"<T> {
}
class "Stack`1"<T> {
}
"Singleton`1" "<CommandManager>" <|- - CommandManager
CommandManager o-> "history<ICommand>" "Stack`1"
CommandManager o-> "redoHistory<ICommand>" "Stack`1"
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9+11-Ubuntu-0ubuntu1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>